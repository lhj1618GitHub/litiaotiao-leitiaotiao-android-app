<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autojs规则生成器</title>
    <style>
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #3d3d3d;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --accent: #4a9cff;
            --accent-hover: #5ca8ff;
            --border: #555555;
            --success: #4caf50;
            --error: #f44336;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 24px;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .toggle-section {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--bg-tertiary);
            transition: .4s;
            border-radius: 30px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--accent);
        }
        
        input:checked + .slider:before {
            transform: translateX(30px);
        }
        
        .link {
            color: var(--accent);
            text-decoration: none;
        }
        
        .link:hover {
            text-decoration: underline;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .input-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .input-label {
            min-width: 100px;
            text-align: right;
            flex-shrink: 0;
        }
        
        .input-wrapper {
            flex: 1;
            position: relative;
            min-width: 0;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 10px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 14px;
        }
        
        input[type="text"]::placeholder {
            color: var(--text-secondary);
        }
        
        .clear-btn {
            padding: 10px 15px;
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        .clear-btn:hover {
            background-color: #444;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .action-btn {
            flex: 1;
            padding: 12px;
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .action-btn:hover {
            background-color: var(--accent);
        }
        
        .output-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        #output {
            min-height: 150px;
            padding: 15px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-y: auto;
        }
        
        .output-actions {
            display: flex;
            gap: 10px;
        }
        
        .copy-btn, .help-btn {
            padding: 10px 20px;
            background-color: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
        }
        
        .copy-btn:hover, .help-btn:hover {
            background-color: var(--accent);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: var(--bg-primary);
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            padding: 20px;
            border-radius: 8px;
            overflow-y: auto;
            position: relative;
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
        }
        
        .close-btn:hover {
            color: var(--text-primary);
        }
        
        .help-content {
            line-height: 1.6;
        }
        
        .help-content h2 {
            margin: 15px 0 10px;
            color: var(--accent);
        }
        
        .help-content h3 {
            margin: 12px 0 8px;
        }
        
        .help-content p {
            margin-bottom: 10px;
        }
        
        .help-content ul, .help-content ol {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .help-content code {
            background-color: var(--bg-secondary);
            padding: 2px 5px;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            background-color: var(--success);
            color: white;
            border-radius: 4px;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .toast.show {
            opacity: 1;
        }
        
        @media (max-width: 600px) {
            .input-row {
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 5px;
                gap: 8px;
            }
            
            .input-label {
                min-width: 90px;
                text-align: left;
                flex-shrink: 0;
            }
            
            .input-wrapper {
                min-width: 150px;
                flex-shrink: 0;
            }
            
            .clear-btn {
                flex-shrink: 0;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .toggle-section {
                gap: 10px;
            }
        }
        
        @media (max-width: 400px) {
            .input-row {
                gap: 5px;
            }
            
            .input-label {
                min-width: 80px;
                font-size: 13px;
            }
            
            input[type="text"] {
                padding: 8px;
                font-size: 13px;
            }
            
            .clear-btn {
                padding: 8px 12px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>配合Autojs使用最佳</h1>
            <div class="toggle-section">
                <label class="switch">
                    <input type="checkbox" id="toggleSwitch">
                    <span class="slider"></span>
                </label>
                <span>开屏广告</span>
                <a href="https://gitee.com/lhj1618/litiaotiao-autojs-android-app/releases" class="link" target="_blank">下载李跳跳/autojs</a>
            </div>
        </header>
        
        <div class="input-group" id="mainInputs">
            <div class="input-row" id="triggerRow">
                <span class="input-label">触发条件：</span>
                <div class="input-wrapper">
                    <input type="text" id="triggerInput" placeholder="id/bounds/文字.需唯一性">
                </div>
                <button class="clear-btn" id="clearTrigger">清空</button>
            </div>
            
            <div class="input-row">
                <span class="input-label">点击目标：</span>
                <div class="input-wrapper">
                    <input type="text" id="targetInput" placeholder="id/bounds/文字,需唯一性,用返回键时留空">
                </div>
                <button class="clear-btn" id="clearTarget">清空</button>
            </div>
            
            <div class="input-row" id="checkRow">
                <span class="input-label">检查次数：</span>
                <div class="input-wrapper">
                    <input type="text" id="checkInput" placeholder="默认留空,过大影响耗电">
                </div>
                <button class="clear-btn" id="clearCheck">清空</button>
            </div>
            
            <div class="input-row" id="delayRow">
                <span class="input-label">点击延时：</span>
                <div class="input-wrapper">
                    <input type="text" id="delayInput" placeholder="留空为默认,单位:ms">
                </div>
                <button class="clear-btn" id="clearDelay">清空</button>
            </div>
        </div>
        
        <div class="button-group" id="mainButtons">
            <button class="action-btn" id="setControl">设控件</button>
            <button class="action-btn" id="setGeneral">设一般</button>
            <button class="action-btn" id="setContinuous">设连续</button>
        </div>
        
        <div class="output-section">
            <div id="output">1.设控件:单个控件规则，用于自主添加在已有规则内；
2.设一般:跳过单个普通广告的完整规则,可直接使用；
3.设连续:一般用于等待一定时间后关闭的广告,"times"为0时不点击.为1时点击;多个控件间优先级递减；</div>
            <div class="output-actions">
                <button class="copy-btn" id="copyBtn">复制</button>
                <button class="help-btn" id="helpBtn">规则说明</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <span class="close-btn" id="closeModal">&times;</span>
            <div class="help-content">
                <h2>Autojs规则说明</h2>
                <p>注意：规则里面的文字默认是模糊匹配的，符号都是英文符号；无空格。</p>
                
                <h3>一：开屏广告规则</h3>
                <p>1.覆盖默认规则：<code>{"keywords":["xxx"]}</code></p>
                <p>2.追加规则-在默认规则的基础上：<code>{"keywords_append":["xxx"]}</code></p>
                <p>其中xxx可以是跳过按钮的文字，id或bounds。</p>
                <p>比如：</p>
                <ul>
                    <li><code>{"keywords":["关闭广告"]}</code></li>
                    <li><code>{"keywords":["tv_close_button"]}</code></li>
                    <li><code>{"keywords":["900,160,1170,250"]}</code></li>
                </ul>
                
                <h3>二：弹窗规则</h3>
                
                <h4>①基础版：</h4>
                <p><code>{"popup_rules":[{"id":"ooo","action":"xxx"}]}</code></p>
                <p>意思是：当检测到ooo这几个文字的时候，就自动点击 xxx 这个按钮。</p>
                <p>xxx可以是跳过按钮的 文字/id/bounds 中的任意一个</p>
                
                <p><code>{"popup_rules":[{"id":"ooo","action":"GLOBAL_ACTION_BACK"}]}</code></p>
                <p>意思是：当检测到ooo这几个文字的时候，就自动使用手机返回键。</p>
                
                <h4>②倒计时/多个广告版：</h4>
                <p><code>{"popup_rules":[{"id":"还剩&秒","action":"还剩&秒",times:0},{"id":"广告","action":"关闭按钮"}],"unite_popup_rules":true}</code></p>
                <p>说明：持续任务的耗时是不确定的，需要把这个过程的中间态和要点击的按钮用两个规则分开表示</p>
                <p>基本结构 <code>{"popup_rules":[倒计时过程中的规则,需要点击按钮时的规则],联合规则开启}</code></p>
                <p>倒计时过程中的规则：<code>{"id":"还剩&秒","action":"还剩&秒",times:0}</code></p>
                <p>需要点击按钮时的规则：<code>{"id":"广告","action":"关闭按钮"}</code></p>
                <p>联合规则开启：<code>"unite_popup_rules":true</code></p>
                
                <h4>③进阶版：</h4>
                <p><code>{"popup_rules":[{"id":"+ooo&-ppp","action":"=xxx"}]}</code></p>
                <p>意思是：当检测到以 ooo 开头，且以 ppp 结尾的文字时，就自动点击显示 xxx 文字的按钮或位置；</p>
                
                <p>设置强制点击：<code>{"click_way_popup":1}</code></p>
                <p>设置搜索次数5：<code>{"search_times_popup":5}</code></p>
                <p>设置延迟200ms点击-开屏广告：<code>{"delay":200}</code></p>
                <p>设置延迟200ms点击-弹窗广告：<code>{"delay_popup":200}</code></p>
                <p>设置点击次数2，times:0 表示不点击：<code>{"popup_rules":[{"id":"ooo","action":"xxx",times:2}]}</code></p>
                <p>联合规则开启：<code>{"unite_popup_rules":true}</code></p>
                
                <p>复选框（CheckBox）-在bounds的后面追加数字0或1来表示两种状态；</p>
                <p>假设某个复选框控件的bounds是100,200,300,400；则</p>
                <p>已选中状态为：100,200,300,400,1</p>
                <p>未选中状态为：100,200,300,400,0</p>
                
                <h3>三：其它说明</h3>
                <p>ooo/ppp是文字；</p>
                <p>xxx可以是跳过按钮的 文字/id/bounds 中的任意一个或返回键；</p>
                <p>+的意思是匹配开头的文字；</p>
                <p>-的意思是匹配结尾的文字；</p>
                <p>=的意思是匹配完全相同的文字；</p>
                <p>&是逻辑里的并且：是用来连接多个条件的。</p>
                
                <h3>四：常见问题</h3>
                
                <h4>1.我的规则正确但无法关闭对应弹窗怎么办？</h4>
                <p>答：判断你的任务是瞬间任务还是持续任务；</p>
                <p>瞬间任务：</p>
                <p>如果有跳过提示，设置强制点击就行：<code>{"popup_rules":[],"click_way_popup":1}</code></p>
                <p>如果没跳过提示，延长搜索次数就行：<code>{"popup_rules":[],"search_times_popup":5}</code></p>
                <p>持续任务：</p>
                <p>参考前面的倒计时弹窗，使用联合规则并开启：<code>{"unite_popup_rules":true}</code></p>
                
                <h4>2.出现误点怎么办？</h4>
                <p>答：①把目标APP加入白名单</p>
                <p>②修改自定义规则或用参数keywords来覆盖默认的规则：<code>{"keywords":["xxx"]}</code></p>
                
                <h4>3.不知道某个弹窗属于哪个APP怎么办？</h4>
                <p>答：通过autojs软件获取这个弹窗任意控件的控件信息，</p>
                <p>复制控件信息里面的包名 (packageName) 信息，</p>
                <p>通过包名在李跳跳里面搜索对应APP就行。</p>
            </div>
        </div>
    </div>
    
    <div class="toast" id="toast">复制成功！</div>
    
    <script>
        // 变量默认值
        let ooo = '';
        let xxx = 'GLOBAL_ACTION_BACK';
        let kj = {"id":"ooo","action":"xxx"};
        let one = {"popup_rules":[{"id":"ooo","action":"xxx"}]};
        let dt = {"popup_rules":[{"id":"还剩&秒","action":"还剩&秒",times:0},{"id":"ooo","action":"xxx"}],"unite_popup_rules":true};
        let kp = {"keywords_append":["xxx"]};
        let end = '';
        let d1 = '"delay_popup":T';
        let d2 = '"delay":T';
        let sum = '"search_times_popup":1';
        
        // DOM元素
        const toggleSwitch = document.getElementById('toggleSwitch');
        const triggerInput = document.getElementById('triggerInput');
        const targetInput = document.getElementById('targetInput');
        const checkInput = document.getElementById('checkInput');
        const delayInput = document.getElementById('delayInput');
        const clearTrigger = document.getElementById('clearTrigger');
        const clearTarget = document.getElementById('clearTarget');
        const clearCheck = document.getElementById('clearCheck');
        const clearDelay = document.getElementById('clearDelay');
        const setControl = document.getElementById('setControl');
        const setGeneral = document.getElementById('setGeneral');
        const setContinuous = document.getElementById('setContinuous');
        const output = document.getElementById('output');
        const copyBtn = document.getElementById('copyBtn');
        const helpBtn = document.getElementById('helpBtn');
        const helpModal = document.getElementById('helpModal');
        const closeModal = document.getElementById('closeModal');
        const toast = document.getElementById('toast');
        const triggerRow = document.getElementById('triggerRow');
        const checkRow = document.getElementById('checkRow');
        const delayRow = document.getElementById('delayRow');
        
        // 限制输入为纯数字
        delayInput.addEventListener('input', function() {
            this.value = this.value.replace(/[^\d]/g, '');
        });
        
        checkInput.addEventListener('input', function() {
            this.value = this.value.replace(/[^\d]/g, '');
        });
        
        // 格式化内容
        function formatContent(input) {
            let content = input.trim();
            
            const regex1 = /\s*=\s*\(([^)]+)\)/;
            const match1 = content.match(regex1);
            if (match1) {
                return match1[1].trim();
            }
            
            const regex2 = /\s*=\s*([^=]+)$/;
            const match2 = content.match(regex2);
            if (match2) {
                return match2[1].trim();
            }
            
            return content;
        }
        
        // 显示提示
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }
        
        // 复制到剪贴板
        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    showToast('复制成功！');
                }).catch(err => {
                    fallbackCopy(text);
                });
            } else {
                fallbackCopy(text);
            }
        }
        
        // 降级复制方案
        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.opacity = 0;
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                document.execCommand('copy');
                showToast('复制成功！');
            } catch (err) {
                showToast('复制失败，请手动复制');
            }
            document.body.removeChild(textArea);
        }
        
        // 事件监听
        toggleSwitch.addEventListener('change', function() {
            if (this.checked) {
                triggerRow.style.display = 'none';
                delayRow.style.display = 'none';
                setControl.style.display = 'none';
                setContinuous.style.display = 'none';
                setGeneral.textContent = '设一般';
            } else {
                triggerRow.style.display = 'flex';
                delayRow.style.display = 'flex';
                setControl.style.display = 'block';
                setContinuous.style.display = 'block';
                setGeneral.textContent = '设一般';
            }
        });
        
        triggerInput.addEventListener('blur', function() {
            if (this.value.trim() !== '') {
                ooo = formatContent(this.value);
            }
        });
        
        targetInput.addEventListener('blur', function() {
            if (this.value.trim() !== '') {
                xxx = formatContent(this.value);
            }
        });
        
        checkInput.addEventListener('blur', function() {
            if (this.value.trim() === '') {
                sum = '"search_times_popup":1';
            } else {
                sum = '"search_times_popup":' + this.value;
            }
        });
        
        delayInput.addEventListener('blur', function() {
            if (this.value.trim() === '') {
                d1 = '"delay_popup":T';
                d2 = '"delay":T';
            } else {
                if (toggleSwitch.checked) {
                    d2 = '"delay":' + this.value;
                } else {
                    d1 = '"delay_popup":' + this.value;
                }
            }
        });
        
        clearTrigger.addEventListener('click', function() {
            triggerInput.value = '';
            ooo = '';
            output.textContent = '1.设控件:单个控件规则，用于自主添加在已有规则内；\n2.设一般:跳过单个普通广告的完整规则,可直接使用；\n3.设连续:一般用于等待一定时间后关闭的广告,"times"为0时不点击.为1时点击;多个控件间优先级递减；';
        });
        
        clearTarget.addEventListener('click', function() {
            targetInput.value = '';
            xxx = 'GLOBAL_ACTION_BACK';
            output.textContent = '1.设控件:单个控件规则，用于自主添加在已有规则内；\n2.设一般:跳过单个普通广告的完整规则,可直接使用；\n3.设连续:一般用于等待一定时间后关闭的广告,"times"为0时不点击.为1时点击;多个控件间优先级递减；';
        });
        
        clearCheck.addEventListener('click', function() {
            checkInput.value = '';
            sum = '"search_times_popup":1';
            output.textContent = '1.设控件:单个控件规则，用于自主添加在已有规则内；\n2.设一般:跳过单个普通广告的完整规则,可直接使用；\n3.设连续:一般用于等待一定时间后关闭的广告,"times"为0时不点击.为1时点击;多个控件间优先级递减；';
        });
        
        clearDelay.addEventListener('click', function() {
            delayInput.value = '';
            d1 = '"delay_popup":T';
            d2 = '"delay":T';
            output.textContent = '1.设控件:单个控件规则，用于自主添加在已有规则内；\n2.设一般:跳过单个普通广告的完整规则,可直接使用；\n3.设连续:一般用于等待一定时间后关闭的广告,"times"为0时不点击.为1时点击;多个控件间优先级递减；';
        });
        
        setControl.addEventListener('click', function() {
            let newKj = JSON.parse(JSON.stringify(kj));
            newKj.id = ooo;
            newKj.action = xxx;
            
            let jsonStr = JSON.stringify(newKj);
            
            let params = [];
            
            if (checkInput.value.trim() !== '') {
                params.push(sum);
            }
            
            if (delayInput.value.trim() !== '') {
                params.push(d1);
            }
            
            if (params.length > 0) {
                let lastBraceIndex = jsonStr.lastIndexOf('}');
                let beforeBrace = jsonStr.substring(0, lastBraceIndex);
                let afterBrace = jsonStr.substring(lastBraceIndex);
                
                if (beforeBrace.length > 1) {
                    beforeBrace += ',';
                }
                
                end = beforeBrace + afterBrace.slice(0, 1) + ',' + params.join(',') + afterBrace.slice(1);
            } else {
                end = jsonStr;
            }
            
            output.textContent = end;
            kj = {"id":"ooo","action":"xxx"};
        });
        
        setGeneral.addEventListener('click', function() {
            if (toggleSwitch.checked) {
                kp.keywords_append = [xxx];
                
                let newKp = JSON.parse(JSON.stringify(kp));
                
                if (checkInput.value.trim() !== '') {
                    newKp.search_times = parseInt(checkInput.value);
                }
                
                end = JSON.stringify(newKp);
                output.textContent = end;
                kp = {"keywords_append":["xxx"]};
            } else {
                one.popup_rules[0].id = ooo;
                one.popup_rules[0].action = xxx;
                
                let jsonStr = JSON.stringify(one);
                let lastBraceIndex = jsonStr.lastIndexOf('}');
                let beforeBrace = jsonStr.substring(0, lastBraceIndex);
                let afterBrace = jsonStr.substring(lastBraceIndex);
                
                if (beforeBrace.length > 1) {
                    beforeBrace += ',';
                }
                
                let params = [];
                
                if (checkInput.value.trim() !== '') {
                    params.push(sum);
                }
                
                if (delayInput.value.trim() !== '') {
                    params.push(d1);
                }
                
                if (params.length > 0) {
                    end = beforeBrace + params.join(',') + afterBrace;
                } else {
                    end = jsonStr;
                }
                
                output.textContent = end;
                one = {"popup_rules":[{"id":"ooo","action":"xxx"}]};
            }
        });
        
        setContinuous.addEventListener('click', function() {
            dt.popup_rules[1].id = ooo;
            dt.popup_rules[1].action = xxx;
            
            let jsonStr = JSON.stringify(dt);
            let lastBraceIndex = jsonStr.lastIndexOf('}');
            let beforeBrace = jsonStr.substring(0, lastBraceIndex);
            let afterBrace = jsonStr.substring(lastBraceIndex);
            
            if (beforeBrace.length > 1) {
                beforeBrace += ',';
            }
            
            let params = [];
            
            if (checkInput.value.trim() !== '') {
                params.push(sum);
            }
            
            if (delayInput.value.trim() !== '') {
                params.push(d1);
            }
            
            if (params.length > 0) {
                end = beforeBrace + params.join(',') + afterBrace;
            } else {
                end = jsonStr;
            }
            
            output.textContent = end;
            dt = {"popup_rules":[{"id":"还剩&秒","action":"还剩&秒",times:0},{"id":"ooo","action":"xxx"}],"unite_popup_rules":true};
        });
        
        copyBtn.addEventListener('click', function() {
            if (output.textContent.trim() !== '') {
                copyToClipboard(output.textContent);
            } else {
                showToast('没有内容可复制');
            }
        });
        
        helpBtn.addEventListener('click', function() {
            helpModal.style.display = 'flex';
        });
        
        closeModal.addEventListener('click', function() {
            helpModal.style.display = 'none';
        });
        
        window.addEventListener('click', function(event) {
            if (event.target === helpModal) {
                helpModal.style.display = 'none';
            }
        });
        
        // 初始化
        output.textContent = '1.设控件:单个控件规则，用于自主添加在已有规则内；\n2.设一般:跳过单个普通广告的完整规则,可直接使用；\n3.设连续:一般用于等待一定时间后关闭的广告,"times"为0时不点击.为1时点击;多个控件间优先级递减；';
    </script>
</body>
</html>
